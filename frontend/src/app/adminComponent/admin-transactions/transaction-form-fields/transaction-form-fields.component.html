<h2 mat-dialog-title class="title">
  {{ isEditMode ? 'Edit Transaction' : 'Add New Transaction' }}
</h2>

<mat-dialog-content>
  <form [formGroup]="formGroup">
    <!--  =================== Start Date ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="startPicker" formControlName="startDate" />
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
      @if (formGroup.get('startDate')?.hasError('required')) {
      <mat-error>Start Date is required</mat-error>
      }
    </mat-form-field>
    <!--  =================================================  -->

    <!--  =================== End Date ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="endPicker" formControlName="endDate" />
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
      @if (formGroup.get('endDate')?.hasError('required')) {
      <mat-error>End Date is required</mat-error>
      }
    </mat-form-field>
    <!--  =================================================  -->

    <!--  =================== Amount ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Amount</mat-label>
      <input matInput formControlName="amount" type="number" />
      @if (formGroup.get('amount')?.hasError('required')) {
      <mat-error>Amount is required</mat-error>
      }
      @if (formGroup.get('amount')?.hasError('min')) {
      <mat-error>Amount must be greater than 0</mat-error>
      }
    </mat-form-field>
    <!--  =================================================  -->

     <!-- =================== Transaction Type ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Transaction Type</mat-label>
      <mat-select formControlName="transactionType">
        @for (type of transactionTypes;track type ;let i = $index) {
        <mat-option [value]="type">
          {{ type }}
        </mat-option>
        }
      </mat-select>
      @if (formGroup.get('transactionType')?.hasError('required')) {
      <mat-error>Transaction Type is required</mat-error>
      }
    </mat-form-field>
    

    <!--  =================================================  -->

    <!--  =================== User ID ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>User ID</mat-label>
      <input matInput formControlName="userId" />
      @if (formGroup.get('userId')?.hasError('required')) {
      <mat-error>User ID is required</mat-error>
      }
    </mat-form-field>
    <!--  =================================================  -->

    <!--  =================== Policy ID ======================  -->
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Policy ID</mat-label>
      <input matInput formControlName="policyId" />
      @if (formGroup.get('policyId')?.hasError('required')) {
      <mat-error>Policy ID is required</mat-error>
      }
    </mat-form-field>
    <!--  =================================================  -->
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" [disabled]="formGroup.invalid">Submit</button>
</mat-dialog-actions>